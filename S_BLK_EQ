               .OPTION LIST=SHOW_INCLUDES

;VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV
;
; SOUND PARAMETER BLOCK -
; ONE PER SAMPLE SLOT, 32 TOTAL.  EACH CONSISTS OF A COMMON BLOCK CONTAINING INFO WHICH PERTAINS
; TO THE SAMPLE ITSELF, FOLLOWED BY TWO SUB-BLOCKS WHICH CONTAIN "A" AND "B" VARIATIONS UPON
; A LARGER SET OF PARAMETERS PERTAINING TO PLAYBACK OF THE SAMPLE.
; ALL PARAMETERS IN THE SOUND PARAMETER BLOCK HAVE LABELS WHICH BEGIN WITH "S_".
;
;
; SOUND PARAMETER COMMON BLOCK:
;
S_NAME         EQU     0                    ;TWO LONG WORDS - SOUND NAME IN ASCII FORMAT.
                                            ;NOTE: SAMPLE ADDRESSES ARE MAINTAINED IN LONG WORDS.
S_BEGIN        EQU     S_NAME+8             ;ACTUAL SAMPLE BEGINNING ADDRESS.
S_FINISH       EQU     S_BEGIN+4            ;ACTUAL SAMPLE END ADDRESS.
;
S_UNUSED_1     EQU     S_FINISH+4           ;WORD - UP FOR GRABS (FORMERLY S_RATE_TRANS).
;
S_RATE         EQU     S_UNUSED_1+2         ;BYTE - INDICATES SAMPLE RATE (0=16KHz, 1=31KHz, 2=42KHz)
S_UNUSED_2     EQU     S_RATE+1             ;BYTE - UP FOR GRABS (S_FINE_TUNE USED TO BE HERE,
                                            ;GOT MOVED TO SUB-BLOCKS TO ALLOW DETUNE EFFECTS).
;
S_MIDI_CHAN    EQU     S_UNUSED_2+1         ;OUTPUT CHANNEL ASSIGNMENT:
                                            ;D7  -    0 = ENABLED, 1 = DISABLED.
                                            ;D4  -    0 = MIDI OUT A, 1 = MIDI OUT B.
                                            ;D3-D0  - MIDI CHANNEL (IN SELECTED MIDI OUTPUT).
S_ROOT_KEY     EQU     S_MIDI_CHAN+1        ;KEYNUMBER 0->87 THAT THE SAMPLED PITCH APPEARS OVER MIDI
S_HIGH_KEY     EQU     S_ROOT_KEY+1         ;HIGHEST KEY (0->87) THAT THIS CAN PLAY BACK OVER MIDI
;
S_UNUSED_3     EQU     S_HIGH_KEY+1         ;UP FOR GRABS (I DON'T KNOW THE ORIGINS OF THIS ONE).
;
S_STATUS       EQU     S_UNUSED_3+1         ;BYTE - INDICATES SAMPLE STATUS:
SAMPLED_BIT    EQU     7                    ; D7  -   0 = NOT SAMPLED, 1 = SAMPLED.
NOT_DEL_BIT    EQU     6                    ; D6  -   0 = DELETED, 1 = NOT DELETED.
SAMPLED        EQU     0C0H                 ; (NOTE - SAMPLED IMPLIES NOT_DELETED.)
NOT_DELETED    EQU     40H                  ; (WHEREAS NOT_DELETED DOES NOT IMPLY SAMPLED ....)
;
;
; SOUND PARAMETER SUB-BLOCK:
; ALL VARIABLES ARE BYTES EXCEPT WHERE INDICATED OTHERWISE.
;
S_START        EQU     0                    ;LONG - SAMPLE PLAYBACK/TRUNCATION START ADDRESS.
S_END          EQU     S_START+4            ;LONG - SAMPLE PLAYBACK/TRUNCATION END ADDRESS.
;
S_LOOP_START   EQU     S_END+4              ;LONG - LOOP START ADDRESS.
S_LOOP_END     EQU     S_LOOP_START+4       ;LONG - LOOP END ADDRESS.
;
S_VEL_LIST     EQU     S_LOOP_END+4         ;WORD - BIT MAP OF VOICE BLOCK PARAMETERS WHICH WILL
                                            ;REQUIRE VELOCITY VALUE FOR INITIALIZATION, BASED ON
                                            ;CURRENT SOUND SETTINGS - MAINTAINED BY EDIT ROUTINES.
;
S_LOOP_TYPE    EQU     S_VEL_LIST+2         ;INDICATES SAMPLE DIRECTION, STATUS OF LOOP.
                                            ;BITS 7-5 MIRROR CUSTOM CHIP FORMAT:
                                            ;D7  -    0 = LOOP OFF, 1 = LOOP ON.
                                            ;D6  -    0 = UNIDIRECTIONAL LOOP, 1 = BIDIRECTIONAL.
                                            ;D5  -    0 = PLAY FORWARDS, 1 = PLAY BACKWARDS.
                                            ;D4  -    0 = SUSTAIN LOOP, 1 = RELEASE LOOP.
;
S_VEL_START    EQU     S_LOOP_TYPE+1        ;AMOUNT OF VELOCITY-MODULATION OF PLAYBACK START ADDR.
S_VOICE        EQU     S_VEL_START+1        ;VOICE CHANNEL ASSIGNMENT:
                                            ;IF = 0, VOICE IS DYNAMICALLY ASSIGNED - ELSE,
                                            ;ONE BIT IS SET TO INDICATE FIXED ASSIGNMENT CHANNEL.
S_PAN_VS_PITCH EQU     S_VOICE+1            ;MODULATION OF PAN SETTING BY PLAYBACK PITCH SETTING.

S_FINE_TUNE    EQU     S_PAN_VS_PITCH+1     ;SOUND FINE-TUNE SETTING (INCREMENTS OF 6.25 CENTS).
;
                                            ;VCA PARAMETERS:
S_A_INIT_ATT   EQU     S_FINE_TUNE+1        ;VCA ATTACK RATE SETTING.
S_A_PITCH_ATT  EQU     S_A_INIT_ATT+1       ;PITCH-TRACK AMOUNT FOR VCA ATTACK RATE.
S_A_VEL_ATT    EQU     S_A_PITCH_ATT+1      ;VELOCITY-MOD AMOUNT FOR VCA ATTACK RATE.
S_A_INIT_TIME  EQU     S_A_VEL_ATT+1        ;VCA SUSTAIN TIME (SUSTAIN IS GATED IF D7 = 1).
S_A_PITCH_TIME EQU     S_A_INIT_TIME+1      ;PITCH-TRACK AMOUNT FOR VCA SUSTAIN TIME.
S_A_VEL_TIME   EQU     S_A_PITCH_TIME+1     ;VELOCITY-MOD AMOUNT FOR VCA SUSTAIN TIME.
S_A_INIT_REL   EQU     S_A_VEL_TIME+1       ;VCA RELEASE RATE SETTING.
S_A_PITCH_REL  EQU     S_A_INIT_REL+1       ;PITCH-TRACK AMOUNT FOR VCA RELEASE RATE.
S_A_VEL_REL    EQU     S_A_PITCH_REL+1      ;VELOCITY-MOD AMOUNT FOR VCA RELEASE RATE.
S_A_LEVEL      EQU     S_A_VEL_REL+1        ;VCA OVERALL LEVEL SETTING.
S_A_VEL_LEVEL  EQU     S_A_LEVEL+1          ;VELOCITY-MOD AMOUNT FOR VCA SUSTAIN LEVEL.
;
                                            ;VCF PARAMETERS:
S_F_INIT_ATT   EQU     S_A_VEL_LEVEL+1      ;VCF ATTACK RATE SETTING.
S_F_PITCH_ATT  EQU     S_F_INIT_ATT+1       ;PITCH-TRACK AMOUNT FOR VCF ATTACK RATE.
S_F_VEL_ATT    EQU     S_F_PITCH_ATT+1      ;VELOCITY-MOD AMOUNT FOR VCF ATTACK RATE.
S_F_INIT_TIME  EQU     S_F_VEL_ATT+1        ;VCF SUSTAIN TIME (SUSTAIN IS GATED IF D7 = 1).
S_F_PITCH_TIME EQU     S_F_INIT_TIME+1      ;PITCH-TRACK AMOUNT FOR VCF SUSTAIN TIME.
S_F_VEL_TIME   EQU     S_F_PITCH_TIME+1     ;VELOCITY-MOD AMOUNT FOR VCF SUSTAIN TIME.
S_F_INIT_REL   EQU     S_F_VEL_TIME+1       ;VCF RELEASE RATE SETTING.
S_F_PITCH_REL  EQU     S_F_INIT_REL+1       ;PITCH-TRACK AMOUNT FOR VCF RELEASE RATE.
S_F_VEL_REL    EQU     S_F_PITCH_REL+1      ;VELOCITY-MOD AMOUNT FOR VCF RELEASE RATE.
S_F_ENV_AMT    EQU     S_F_VEL_REL+1        ;SCALING OF VCF ENVELOPE BEFORE COMBINING WITH CUTOFF.
S_F_VEL_ENV    EQU     S_F_ENV_AMT+1        ;VELOCITY-MOD AMOUNT FOR VCF ENVELOPE SCALING.
S_F_CUTOFF     EQU     S_F_VEL_ENV+1        ;BASE VCF CUTOFF SETTING (BEFORE ENVELOPE IS ADDED).
S_F_PITCH_CUT  EQU     S_F_CUTOFF+1         ;PITCH-TRACK AMOUNT FOR VCF CUTOFF.
;
                                            ;PITCH PARAMETERS:
S_B_PEAK       EQU     S_F_PITCH_CUT+1      ;PITCH-BEND DEPTH SETTING.
S_B_RATE       EQU     S_B_PEAK+1           ;PITCH-BEND RATE SETTING.
S_B_PITCH_RATE EQU     S_B_RATE+1           ;PITCH-TRACK AMOUNT FOR PITCH-BEND RATE.
S_B_VEL_PEAK   EQU     S_B_PITCH_RATE+1     ;VELOCITY-MOD AMOUNT FOR PITCH-BEND DEPTH.
S_B_VEL_RATE   EQU     S_B_VEL_PEAK+1       ;VELOCITY-MOD AMOUNT FOR PITCH-BEND RATE.
S_B_GATE       EQU     S_B_VEL_RATE+1       ;PITCH-BEND GATED/NOT GATED SETTING.
;
S_A_MOD_REL    EQU     S_B_GATE+1           ;LIVE MODULATION AMOUNT FOR VCA RELEASE RATE (TRIG IN).
;
S_COMMON_SIZE  EQU     2CH                  ;SIZE OF SOUND PARAMETER COMMON BLOCK (KEEP IT EVEN).
S_SUB_SIZE     EQU     4AH                  ;SIZE OF SOUND SUB-BLOCK (KEEP IT EVEN).
S_SUB_0        EQU     S_COMMON_SIZE        ;OFFSET OF SUB-BLOCK 0 INTO SOUND BLOCK.
S_SUB_1        EQU     S_SUB_0+S_SUB_SIZE   ;OFFSET OF SUB-BLOCK 1 INTO SOUND BLOCK.
S_BLOCK_SIZE   EQU     S_COMMON_SIZE+(2*S_SUB_SIZE)   ;SIZE OF COMPLETE SOUND PARAMETER BLOCK.
;
; NOTE - S_COMMON_SIZE AND S_SUB_SIZE ARE DEFINED WITH THE DESIRE TO
; RESERVE A HEALTHY AMOUNT OF EXCESS SPACE FOR ADDITIONAL SAMPLE CONTROL
; INFORMATION, TO AVOID INCOMPATIBILITY WITH FUTURE FIRMWARE REVISIONS,
; - HOPEFULLY WITHOUT EATING AN ABOMINABLY LARGE AMOUNT OF CPU RAM.
;
;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
               .OPTION LIST="ON"
